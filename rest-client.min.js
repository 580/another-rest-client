!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.RestClient=e():t.RestClient=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t){var e="";for(var n in t)e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n])+"&";return e.substr(0,e.length-1)}function i(t,e,n,r,o){var u=o?o:function(r){if(void 0==r)return u;var o=i(t,e,n,r);o._shortcuts=u._shortcuts;for(var s in u._resources){var c=u._resources[s],a=i(t,o,s);a._resources=c._resources,a._shortcuts=c._shortcuts,o._resources[s]=a,s in u._shortcuts&&(o[s]=a)}return o};return u._resources={},u._shortcuts={},u.res=function(e){var n=arguments.length<=1||void 0===arguments[1]?t._opts.shortcut:arguments[1],r=[].concat(e),o=[],s=!0,c=!1,a=void 0;try{for(var f,l=r[Symbol.iterator]();!(s=(f=l.next()).done);s=!0){var p=f.value,d=u._resources[p]||i(t,u,p);u._resources[p]=d,n&&(u._shortcuts[p]=d,u[p]=d),o.push(d)}}catch(h){c=!0,a=h}finally{try{!s&&l["return"]&&l["return"]()}finally{if(c)throw a}}return e instanceof Array?o:o[0]},u.url=function(){var t=e?e.url():"";return n&&(t+="/"+n),void 0!=r&&(t+="/"+r),t},void 0==r?(u.add=function(e){var n=arguments.length<=1||void 0===arguments[1]?t._opts.contentType:arguments[1];return t._request("POST",u.url(),e,n)},u.get=function(e){var n=u.url();return e&&(n+="?"+s(e)),t._request("GET",n)}):(u.get=function(){return t._request("GET",u.url())},u.upd=function(e){var n=arguments.length<=1||void 0===arguments[1]?t._opts.contentType:arguments[1];return t._request("PUT",u.url(),e,n)},u.del=function(){return t._request("DELETE",u.url())}),u}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(1),a=r(c),f=function(){function t(e,n){o(this,t),this.host=e,this.conf(n),new a["default"](this),i(this,void 0,"",void 0,this)}return u(t,[{key:"conf",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._opts=this._opts||{trailing:"",shortcut:!0,contentType:"application/json","application/x-www-form-urlencoded":{encode:s},"application/json":{encode:JSON.stringify,decode:JSON.parse}};for(var e in this._opts)e in t&&(this._opts[e]=t[e])}},{key:"_request",value:function(t,e){var n=this,r=arguments.length<=2||void 0===arguments[2]?null:arguments[2],o=arguments.length<=3||void 0===arguments[3]?null:arguments[3];-1==e.indexOf("?")?e+=this._opts.trailing:e=e.replace("?",this._opts.trailing+"?");var s=new XMLHttpRequest;if(s.open(t,this.host+e,!0),o){var i=this._opts[o];i&&i.encode&&(r=i.encode(r)),s.setRequestHeader("Content-Type",o)}this.emit("request",s);var u=new Promise(function(t,e){s.onreadystatechange=function(){if(4==s.readyState)if(n.emit("answer",s),200==s.status||201==s.status||204==s.status){n.emit("success",s);var r=s.getResponseHeader("Content-Type"),o=n._opts[r],i=s.responseText;o&&o.decode&&(i=o.decode(i)),t(i)}else n.emit("error",s),e(s)}});return s.send(r),u}}]),t}();t.exports=f},function(t,e){t.exports=function(t){var e={},n=[];t=t||this,t.on=function(t,n,r){(e[t]=e[t]||[]).push([n,r])},t.off=function(t,r){t||(e={});for(var o=e[t]||n,s=o.length=r?o.length:0;s--;)r==o[s][0]&&o.splice(s,1)},t.emit=function(t){for(var r,o=e[t]||n,s=o.length>0?o.slice(0,o.length):o,i=0;r=s[i++];)r[0].apply(r[1],n.slice.call(arguments,1))}}}])});
//# sourceMappingURL=rest-client.min.js.map